<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head><title>String concatenation dangerous order</title>
  <link rel="StyleSheet" href="../../ide.css" type="text/css">
</head>
<body>

<h3>String concatenation dangerous order</h3>

<p>Just take a look at how following code behaves:</p>

<p>Code example:</p>
    <pre><code>
    0: System.out.println(1 + 2 + " monkeys");
    1: System.out.println("" + 1 + 2 + " monkeys");
    2: System.out.println("monkeys " + 1 + 2);
    </code></pre>

<p>Output to console:</p>
    <pre>
    3 monkeys
    12 monkeys
    monkeys 12
    </pre>
    
<p>On line 0 first the arithmetical expression <code>1 + 2</code> is executed,
and only then the result 3 is appended to " monkeys" string.</p>

<br><hr>
<h4>Corrective actions:</h4>
<h3>Add an empty string before arithmetical expression</h3>
    This action inserts an empty string to the beginning of the string
    concatenation expression, to avoid execution of arithmetical expression.
    
    <h4>Example:</h4>
    <h5>before:</h5>
    <pre>
    System.out.println(1 + 2 + " monkeys");
    </pre>
    <h5>after:</h5>
    <pre>
    System.out.println(<font color="green">"" + </font>1 + 2 + " monkeys");
    </pre>
    
<h3>Embrace arithmetical expression</h3>
    This action places braces around the arithmetical expression, so that it is
    more obvious, that arithmetical expression is executed before string
    concatenation.
    
    <h4>Example:</h4>
    <h5>before:</h5>
    <pre>
    System.out.println(1 + 2 + " monkeys");
    </pre>
    <h5>after:</h5>
    <pre>
    System.out.println(<font color="green">(</font>1 + 2<font color="green">)</font> + " monkeys");
    </pre>

</body></html>
